import{j as e,m as g}from"./ui-D_LkVF2r.js";import{u as b,r as f}from"./vendor-Vqvh67Lm.js";import{B as w,P as k}from"./Badge-BSkIqIZk.js";import{u as N,a as C}from"./index-DyR7kU-z.js";import{B as u}from"./Button-C3O7gUUW.js";import"./storage-BBQgdv-R.js";const j=({variant:s="text",width:r,height:l,className:o="",count:a=1})=>{const d=()=>{switch(s){case"circular":return"rounded-full";case"rectangular":return"rounded-lg";case"text":default:return"rounded h-4"}},n=()=>{const i={};return r&&(i.width=typeof r=="number"?`${r}px`:r),l&&(i.height=typeof l=="number"?`${l}px`:l),i},x=i=>e.jsx("div",{className:`
        bg-gray-700 animate-pulse
        ${d()}
        ${o}
      `,style:n()},i);return a===1?x(0):e.jsx("div",{className:"space-y-2",children:Array.from({length:a}).map((i,c)=>x(c))})},L=({project:s})=>{var m,p;const r=b(),{getProjectProgress:l,deleteProject:o}=N(),a=l(s.id),d=t=>({draft:"default",planning:"info","in-progress":"warning",completed:"success",published:"primary"})[t]||"default",n=t=>({draft:"ì´ˆì•ˆ",planning:"ê¸°íš ì¤‘","in-progress":"ì œìž‘ ì¤‘",completed:"ì™„ë£Œ",published:"ë°œí–‰ë¨"})[t]||t,x=t=>({romance:"ðŸ’•",action:"âš”ï¸",fantasy:"ðŸ§™","slice-of-life":"â˜•",thriller:"ðŸ”ª",comedy:"ðŸ˜‚","sci-fi":"ðŸš€",drama:"ðŸŽ­",horror:"ðŸ‘»",mystery:"ðŸ”"})[t]||"ðŸ“–",i=async t=>{t.stopPropagation(),window.confirm("ì •ë§ ì´ í”„ë¡œì íŠ¸ë¥¼ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&await o(s.id)},c=t=>new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"});return e.jsxs(g.div,{whileHover:{scale:1.02,y:-4},whileTap:{scale:.98},onClick:()=>r(`/editor/${s.id}`),className:"bg-gray-800/50 backdrop-blur-sm rounded-xl border border-gray-700 overflow-hidden cursor-pointer transition-all duration-200 hover:border-purple-500/50 hover:shadow-lg hover:shadow-purple-500/10",children:[e.jsxs("div",{className:"h-24 bg-gradient-to-br from-purple-600 via-pink-600 to-orange-500 relative",children:[e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"text-3xl",children:x(s.genre)})}),e.jsx("div",{className:"absolute top-3 right-3",children:e.jsx(w,{variant:d(s.status),size:"sm",children:n(s.status)})}),e.jsx("div",{className:"absolute bottom-3 right-3 flex gap-2",children:e.jsx("button",{onClick:i,className:"p-1.5 rounded-lg bg-black/30 hover:bg-red-500/50 text-white transition-colors",title:"ì‚­ì œ",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"text-lg font-bold text-white mb-1 truncate",children:s.title}),e.jsx("p",{className:"text-sm text-gray-400 line-clamp-2 h-10",children:s.briefConcept}),e.jsxs("div",{className:"flex items-center gap-4 mt-3 text-sm text-gray-400",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 11H5m14 0a2 2 0 012 2v6a2 2 0 01-2 2H5a2 2 0 01-2-2v-6a2 2 0 012-2m14 0V9a2 2 0 00-2-2M5 11V9a2 2 0 012-2m0 0V5a2 2 0 012-2h6a2 2 0 012 2v2M7 7h10"})}),((m=s.episodes)==null?void 0:m.length)||0,"/",s.episodeCount,"í™”"]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),((p=s.characters)==null?void 0:p.length)||0,"ëª…"]})]}),e.jsxs("div",{className:"mt-4",children:[e.jsxs("div",{className:"flex justify-between text-xs mb-1",children:[e.jsx("span",{className:"text-gray-400",children:"ì§„í–‰ë¥ "}),e.jsxs("span",{className:"text-purple-400 font-medium",children:[a.overall,"%"]})]}),e.jsx(k,{value:a.overall,size:"sm",color:"primary"})]}),e.jsxs("div",{className:"mt-3 pt-3 border-t border-gray-700 flex justify-between text-xs text-gray-500",children:[e.jsxs("span",{children:["ìƒì„±: ",c(s.createdAt)]}),e.jsxs("span",{children:["ìˆ˜ì •: ",c(s.updatedAt)]})]})]})]})},M=()=>{const{sessionStats:s,settings:r,getTodayStats:l,getWeeklyStats:o,getCacheHitRate:a,checkDailyLimit:d}=C(),n=l(),x=o(),i=a(),c=d(),m=t=>`$${t.toFixed(4)}`,p=Math.max(...x.map(t=>t.totalCost),.001);return e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"ë¹„ìš© ëŒ€ì‹œë³´ë“œ"}),c.warning&&e.jsxs(g.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:`mb-4 p-3 rounded-lg ${c.exceeded?"bg-red-500/20 border border-red-500/50":"bg-yellow-500/20 border border-yellow-500/50"}`,children:[e.jsx("p",{className:c.exceeded?"text-red-400":"text-yellow-400",children:c.exceeded?"ì¼ì¼ í•œë„ë¥¼ ì´ˆê³¼í–ˆìŠµë‹ˆë‹¤!":`ì¼ì¼ í•œë„ì˜ ${Math.round(n.totalCost/r.dailyLimit*100)}%ë¥¼ ì‚¬ìš©í–ˆìŠµë‹ˆë‹¤.`}),e.jsxs("p",{className:"text-sm text-gray-400 mt-1",children:["ë‚¨ì€ í•œë„: ",m(c.remaining)]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"ì˜¤ëŠ˜ ë¹„ìš©"}),e.jsx("p",{className:"text-xl font-bold text-white",children:m(n.totalCost)}),e.jsxs("p",{className:"text-green-400 text-xs",children:["ì ˆê°: ",m(n.savedCost)]})]}),e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3",children:[e.jsx("p",{className:"text-gray-400 text-xs",children:"ìºì‹œ ì ì¤‘ë¥ "}),e.jsxs("p",{className:"text-xl font-bold text-purple-400",children:[i.toFixed(1),"%"]}),e.jsxs("p",{className:"text-gray-400 text-xs",children:[s.cacheHits," ì ì¤‘"]})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"ì£¼ê°„ ë¹„ìš©"}),e.jsx("div",{className:"flex items-end gap-1 h-16",children:x.map((t,h)=>{const y=Math.max(t.totalCost/p*100,4),v=h===x.length-1;return e.jsxs("div",{className:"flex-1 flex flex-col items-center",children:[e.jsx(g.div,{initial:{height:0},animate:{height:`${y}%`},transition:{delay:h*.05,duration:.3},className:`w-full rounded-t ${v?"bg-purple-500":"bg-gray-600"}`,title:`${t.date}: ${m(t.totalCost)}`}),e.jsx("span",{className:"text-[10px] text-gray-500 mt-1",children:new Date(t.date).getDate()})]},t.date)})})]}),e.jsxs("div",{className:"pt-3 border-t border-gray-700",children:[e.jsx("p",{className:"text-gray-400 text-xs mb-2",children:"í˜„ìž¬ ì„¸ì…˜"}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-gray-400",children:"ì´ë¯¸ì§€ ìƒì„±"}),e.jsx("span",{className:"text-white",children:s.imageGenerations})]}),e.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[e.jsx("span",{className:"text-gray-400",children:"í…ìŠ¤íŠ¸ ìƒì„±"}),e.jsx("span",{className:"text-white",children:s.textGenerations})]}),e.jsxs("div",{className:"flex justify-between text-xs mt-1",children:[e.jsx("span",{className:"text-gray-400",children:"ìºì‹œ ì ˆê°"}),e.jsx("span",{className:"text-green-400",children:m(s.savedCost)})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gradient-to-r from-purple-500/10 to-pink-500/10 rounded-lg border border-purple-500/20",children:[e.jsx("p",{className:"text-purple-400 text-xs font-medium mb-1",children:"ë¹„ìš© ì ˆê° íŒ"}),e.jsx("p",{className:"text-gray-400 text-xs",children:"í”„ë¡œê·¸ë ˆì‹œë¸Œ ìƒì„±ê³¼ ì‹œë§¨í‹± ìºì‹œë¡œ ìµœëŒ€ 40% ë¹„ìš©ì„ ì ˆê°í•  ìˆ˜ ìžˆìŠµë‹ˆë‹¤."})]})]})},S=()=>{const s=b(),{projects:r,isLoading:l,loadProjects:o}=N();return f.useEffect(()=>{o()},[o]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-7xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-white mb-2",children:"ë‚´ í”„ë¡œì íŠ¸"}),e.jsx("p",{className:"text-gray-400",children:"AIì™€ í•¨ê»˜ ì›¹íˆ°ì„ ì œìž‘í•˜ì„¸ìš”"})]}),e.jsx(u,{variant:"primary",size:"lg",onClick:()=>s("/create"),icon:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),children:"ìƒˆ í”„ë¡œì íŠ¸"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[e.jsx("div",{className:"lg:col-span-2",children:l?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(a=>e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-4 border border-gray-700",children:[e.jsx(j,{variant:"rectangular",height:96,className:"mb-4 rounded-lg"}),e.jsx(j,{variant:"text",width:"70%",className:"mb-2"}),e.jsx(j,{variant:"text",width:"100%"}),e.jsx(j,{variant:"text",width:"40%",className:"mt-4"})]},a))}):r.length===0?e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"flex flex-col items-center justify-center py-20 bg-gray-800/30 rounded-2xl border border-gray-700 border-dashed",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-purple-500/20 flex items-center justify-center mb-6",children:e.jsx("svg",{className:"w-12 h-12 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsx("h2",{className:"text-xl font-bold text-white mb-2",children:"ì•„ì§ í”„ë¡œì íŠ¸ê°€ ì—†ìŠµë‹ˆë‹¤"}),e.jsx("p",{className:"text-gray-400 mb-6 text-center max-w-md",children:"ìƒˆ í”„ë¡œì íŠ¸ë¥¼ ë§Œë“¤ì–´ AIì™€ í•¨ê»˜ ì›¹íˆ° ì œìž‘ì„ ì‹œìž‘í•´ë³´ì„¸ìš”."}),e.jsx(u,{variant:"primary",onClick:()=>s("/create"),children:"ì²« í”„ë¡œì íŠ¸ ë§Œë“¤ê¸°"})]}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:r.map((a,d)=>e.jsx(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:d*.1},children:e.jsx(L,{project:a})},a.id))})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"í†µê³„"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-purple-400",children:r.length}),e.jsx("p",{className:"text-sm text-gray-400",children:"ì´ í”„ë¡œì íŠ¸"})]}),e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-pink-400",children:r.filter(a=>a.status==="in-progress").length}),e.jsx("p",{className:"text-sm text-gray-400",children:"ì§„í–‰ ì¤‘"})]}),e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-green-400",children:r.filter(a=>a.status==="completed").length}),e.jsx("p",{className:"text-sm text-gray-400",children:"ì™„ë£Œ"})]}),e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-3 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-400",children:r.reduce((a,d)=>{var n;return a+(((n=d.episodes)==null?void 0:n.length)||0)},0)}),e.jsx("p",{className:"text-sm text-gray-400",children:"ì´ ì—í”¼ì†Œë“œ"})]})]})]}),e.jsx(M,{}),e.jsxs("div",{className:"bg-gray-800/50 rounded-xl p-6 border border-gray-700",children:[e.jsx("h2",{className:"text-lg font-bold text-white mb-4",children:"ë¹ ë¥¸ ì‹œìž‘"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("button",{onClick:()=>s("/create"),className:"w-full flex items-center gap-3 p-3 rounded-lg bg-gray-700/50 hover:bg-gray-700 text-left transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"ðŸ“"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"ìƒˆ ì›¹íˆ° ë§Œë“¤ê¸°"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"AIì™€ í•¨ê»˜ ê¸°íšë¶€í„° ì‹œìž‘"})]})]}),e.jsxs("button",{onClick:()=>s("/settings"),className:"w-full flex items-center gap-3 p-3 rounded-lg bg-gray-700/50 hover:bg-gray-700 text-left transition-colors",children:[e.jsx("span",{className:"text-2xl",children:"âš™ï¸"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"ì„¤ì •"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"API í‚¤ ë° í™˜ê²½ ì„¤ì •"})]})]})]})]})]})]})]})})},z=()=>e.jsx(S,{});export{z as default};
