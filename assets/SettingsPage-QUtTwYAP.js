import{j as e,m as g}from"./ui-D_LkVF2r.js";import{u as j,r as d}from"./vendor-Vqvh67Lm.js";import{B as c}from"./Button-C3O7gUUW.js";import{a as f,I as v,b as y}from"./index-J6TuO7Jp.js";import{S as m}from"./Slider-B58Hgk20.js";import{g as u,C as x}from"./GeminiService-DCcsU8I3.js";import"./storage-286qJZbv.js";import"./ai-DlT_pbP0.js";const h=({checked:i,onChange:a,label:t,description:n,disabled:l=!1,size:r="md",className:o=""})=>{const s={sm:{track:"w-8 h-4",thumb:"w-3 h-3",translate:"translate-x-4"},md:{track:"w-11 h-6",thumb:"w-5 h-5",translate:"translate-x-5"},lg:{track:"w-14 h-7",thumb:"w-6 h-6",translate:"translate-x-7"}}[r];return e.jsxs("label",{className:`
        flex items-start gap-3 cursor-pointer
        ${l?"opacity-50 cursor-not-allowed":""}
        ${o}
      `,children:[e.jsx("button",{role:"switch","aria-checked":i,onClick:()=>!l&&a(!i),disabled:l,className:`
          relative inline-flex flex-shrink-0
          ${s.track}
          rounded-full transition-colors duration-200
          focus:outline-none focus:ring-2 focus:ring-purple-500 focus:ring-offset-2 focus:ring-offset-gray-900
          ${i?"bg-purple-600":"bg-gray-600"}
        `,children:e.jsx(g.span,{initial:!1,animate:{x:i?r==="sm"?16:r==="md"?20:28:0},transition:{type:"spring",stiffness:500,damping:30},className:`
            ${s.thumb}
            rounded-full bg-white shadow-lg
            absolute top-0.5 left-0.5
          `})}),(t||n)&&e.jsxs("div",{className:"flex flex-col",children:[t&&e.jsx("span",{className:"text-sm font-medium text-white",children:t}),n&&e.jsx("span",{className:"text-xs text-gray-400 mt-0.5",children:n})]})]})},I=()=>{const i=j(),{settings:a,updateSettings:t}=f(),[n,l]=d.useState(""),[r,o]=d.useState(null);d.useEffect(()=>{const s=u.getApiKey();s&&l(s)},[]);const p=()=>{n.trim()?(u.setApiKey(n.trim()),o({message:"API 키가 저장되었습니다. 이제 AI 기능을 사용할 수 있습니다!",type:"success"})):o({message:"설정이 저장되었습니다",type:"success"})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-900 via-purple-900/20 to-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-3xl",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("button",{onClick:()=>i(-1),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h1",{className:"text-2xl font-bold text-white",children:"설정"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs(x,{children:[e.jsxs("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-purple-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 7a2 2 0 012 2m4 0a6 6 0 01-7.743 5.743L11 17H9v2H7v2H4a1 1 0 01-1-1v-2.586a1 1 0 01.293-.707l5.964-5.964A6 6 0 1121 9z"})}),"API 설정"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(v,{label:"Gemini API Key",type:"password",value:n,onChange:s=>l(s.target.value),placeholder:"AIza...",helperText:"Google AI Studio (aistudio.google.com)에서 무료로 API 키를 발급받으세요"}),e.jsxs("div",{className:"p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:[e.jsx("p",{className:"text-sm text-blue-400 font-medium mb-1",children:"API 키 발급 방법:"}),e.jsxs("ol",{className:"text-xs text-gray-400 list-decimal list-inside space-y-1",children:[e.jsx("li",{children:"Google AI Studio 접속 (aistudio.google.com)"}),e.jsx("li",{children:"Google 계정으로 로그인"}),e.jsx("li",{children:'"Get API Key" 클릭 후 키 생성'}),e.jsx("li",{children:"생성된 키를 위 입력란에 붙여넣기"})]})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"API 키는 브라우저 로컬에만 저장되며 외부로 전송되지 않습니다."})]})]}),e.jsxs(x,{children:[e.jsxs("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-green-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"비용 설정"]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(m,{label:"일일 비용 한도",value:a.dailyLimit,onChange:s=>t({dailyLimit:s}),min:1,max:20,step:.5,formatValue:s=>`$${s.toFixed(2)}`}),e.jsx(m,{label:"경고 임계값",value:a.warningThreshold*100,onChange:s=>t({warningThreshold:s/100}),min:50,max:95,step:5,formatValue:s=>`${s}%`})]})]}),e.jsxs(x,{children:[e.jsxs("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-blue-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"최적화 설정"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(h,{label:"프로그레시브 이미지 생성",description:"저해상도 프리뷰를 먼저 생성하여 비용을 절감합니다",checked:a.enableProgressiveGeneration,onChange:s=>t({enableProgressiveGeneration:s})}),e.jsx(h,{label:"시맨틱 캐싱",description:"유사한 프롬프트의 결과를 캐싱하여 재사용합니다",checked:a.enableSemanticCache,onChange:s=>t({enableSemanticCache:s})}),e.jsx(h,{label:"배치 처리 우선",description:"여러 이미지를 한 번에 처리하여 효율을 높입니다",checked:a.preferBatchProcessing,onChange:s=>t({preferBatchProcessing:s})}),a.enableSemanticCache&&e.jsx(g.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:e.jsx(m,{label:"캐시 유사도 임계값",value:a.cacheThreshold*100,onChange:s=>t({cacheThreshold:s/100}),min:70,max:95,step:5,formatValue:s=>`${s}%`})})]})]}),e.jsxs(x,{children:[e.jsxs("h2",{className:"text-lg font-bold text-white mb-4 flex items-center gap-2",children:[e.jsx("svg",{className:"w-5 h-5 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 7v10c0 2.21 3.582 4 8 4s8-1.79 8-4V7M4 7c0 2.21 3.582 4 8 4s8-1.79 8-4M4 7c0-2.21 3.582-4 8-4s8 1.79 8 4m0 5c0 2.21-3.582 4-8 4s-8-1.79-8-4"})}),"데이터 관리"]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"캐시 초기화"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"이미지와 텍스트 캐시를 모두 삭제합니다"})]}),e.jsx(c,{variant:"danger",size:"sm",children:"초기화"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"데이터 내보내기"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"모든 프로젝트를 JSON으로 내보냅니다"})]}),e.jsx(c,{variant:"secondary",size:"sm",children:"내보내기"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-white font-medium",children:"데이터 가져오기"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"백업 파일에서 프로젝트를 복원합니다"})]}),e.jsx(c,{variant:"secondary",size:"sm",children:"가져오기"})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-4",children:[e.jsx(c,{variant:"ghost",onClick:()=>i(-1),children:"취소"}),e.jsx(c,{variant:"primary",onClick:p,children:"저장"})]})]}),r&&e.jsx(y,{message:r.message,type:r.type,onClose:()=>o(null)})]})})};export{I as default};
