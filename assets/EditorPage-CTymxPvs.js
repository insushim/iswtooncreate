import{j as e,m as L,A as We}from"./ui-D_LkVF2r.js";import{r as R,e as Fe,u as Oe}from"./vendor-Vqvh67Lm.js";import{B as k}from"./Button-C3O7gUUW.js";import{u as Ne,c as ce,L as ke,d as He}from"./index-CJjSL1ZP.js";import{D as je,p as Ge}from"./parseJsonResponse-BC4W7KvA.js";import{g as Ce,C as le}from"./GeminiService-CuSaiY5Y.js";import"./storage-BBQgdv-R.js";import"./ai-BpRkNtKl.js";const $e=({tabs:s,activeTab:m,onChange:t,variant:o="default",size:g="md",fullWidth:i=!1,className:h=""})=>{const d={sm:"px-3 py-1.5 text-sm gap-1.5",md:"px-4 py-2 text-base gap-2",lg:"px-5 py-2.5 text-lg gap-2.5"};return(()=>{switch(o){case"pills":return e.jsx("div",{className:`flex gap-2 ${i?"w-full":""} ${h}`,children:s.map(a=>e.jsxs("button",{onClick:()=>!a.disabled&&t(a.id),disabled:a.disabled,className:`
                  flex items-center ${d[g]} rounded-lg
                  font-medium transition-all duration-200
                  ${i?"flex-1 justify-center":""}
                  ${a.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                  ${m===a.id?"bg-purple-600 text-white":"bg-gray-700 text-gray-400 hover:text-white hover:bg-gray-600"}
                `,children:[a.icon,a.label]},a.id))});case"underline":return e.jsx("div",{className:`flex border-b border-gray-700 ${i?"w-full":""} ${h}`,children:s.map(a=>e.jsxs("button",{onClick:()=>!a.disabled&&t(a.id),disabled:a.disabled,className:`
                  relative flex items-center ${d[g]}
                  font-medium transition-colors duration-200
                  ${i?"flex-1 justify-center":""}
                  ${a.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                  ${m===a.id?"text-purple-400":"text-gray-400 hover:text-white"}
                `,children:[a.icon,a.label,m===a.id&&e.jsx(L.div,{layoutId:"underline",className:"absolute bottom-0 left-0 right-0 h-0.5 bg-purple-500"})]},a.id))});default:return e.jsx("div",{className:`
              flex bg-gray-800 rounded-lg p-1
              ${i?"w-full":"inline-flex"}
              ${h}
            `,children:s.map(a=>e.jsxs("button",{onClick:()=>!a.disabled&&t(a.id),disabled:a.disabled,className:`
                  relative flex items-center ${d[g]} rounded-md
                  font-medium transition-all duration-200
                  ${i?"flex-1 justify-center":""}
                  ${a.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer"}
                  ${m===a.id?"text-white":"text-gray-400 hover:text-white"}
                `,children:[m===a.id&&e.jsx(L.div,{layoutId:"activeTab",className:"absolute inset-0 bg-gray-700 rounded-md",transition:{type:"spring",stiffness:500,damping:30}}),e.jsxs("span",{className:"relative z-10 flex items-center gap-2",children:[a.icon,a.label]})]},a.id))})}})()};async function Ue(s,m){const{text:t,fontSize:o=26,fontFamily:g="'Noto Sans KR', 'Malgun Gothic', 'Apple SD Gothic Neo', sans-serif",maxWidth:i=400,bubbleStyle:h="normal"}=m;return t.trim()?new Promise((d,p)=>{const a=new Image;a.crossOrigin="anonymous",a.onload=()=>{const y=document.createElement("canvas").getContext("2d");if(!y){p(new Error("Canvas context not available"));return}y.font=`bold ${o}px ${g}`;const W=Je(y,t,i),T=o*1.5,F=W.length*T,D=20,C=F+D*2,l=document.createElement("canvas"),r=l.getContext("2d");if(!r){p(new Error("Canvas context not available"));return}l.width=a.width,l.height=a.height+C,r.fillStyle="#ffffff",r.fillRect(0,0,l.width,C),r.strokeStyle="#e0e0e0",r.lineWidth=1,r.beginPath(),r.moveTo(0,C),r.lineTo(l.width,C),r.stroke(),r.drawImage(a,0,C),r.font=`bold ${o}px ${g}`,r.textAlign="center",r.textBaseline="top",h==="shout"?r.fillStyle="#d32f2f":h==="thought"?r.fillStyle="#666666":r.fillStyle="#1a1a1a";const A=D;W.forEach((P,O)=>{r.fillText(P,l.width/2,A+O*T)}),d(l.toDataURL("image/png"))},a.onerror=()=>{p(new Error("Failed to load image"))},a.src=s}):s}function Je(s,m,t){const o=[],g=m.split("");let i="";for(const h of g){const d=i+h;s.measureText(d).width>t&&i.length>0?(o.push(i),i=h):i=d}return i&&o.push(i),o}const Ye=[{value:"full",label:"ì „ì²´"},{value:"large",label:"ëŒ€í˜•"},{value:"medium",label:"ì¤‘í˜•"},{value:"small",label:"ì†Œí˜•"},{value:"wide",label:"ê°€ë¡œí˜•"},{value:"tall",label:"ì„¸ë¡œí˜•"}],qe=[{value:"close-up",label:"í´ë¡œì¦ˆì—…"},{value:"medium-shot",label:"ë¯¸ë””ì—„ìƒ·"},{value:"wide-shot",label:"ì™€ì´ë“œìƒ·"},{value:"extreme-close-up",label:"ìµìŠ¤íŠ¸ë¦¼ í´ë¡œì¦ˆì—…"},{value:"bird-eye",label:"ë²„ë“œì•„ì´"},{value:"worm-eye",label:"ì›œì•„ì´"},{value:"dutch-angle",label:"ë”ì¹˜ì•µê¸€"},{value:"over-shoulder",label:"ì˜¤ë²„ìˆ„ë”"},{value:"pov",label:"POV"}],Ve=({panel:s,episodeId:m,onUpdate:t})=>{var F,D,C,l;const[o,g]=R.useState(!1),[i,h]=R.useState(null),[d,p]=R.useState(""),{currentProject:a}=Ne(),{addToast:u}=ce(),y=async(r="preview")=>{var A,P,O,Y,B,H,G,q,V,n,I,M,U,_,J,z;if(a){g(!0);try{const f=s.composition||((A=s.background)==null?void 0:A.description)||"",$=a.worldBuilding,w=($==null?void 0:$.era)||"",v=($==null?void 0:$.setting)||"",de=/í˜„ëŒ€|modern|ì‚¬ë¬´ì‹¤|office|ì•„íŒŒíŠ¸|apartment|ë„ì‹œ|city|ìŠ¤ë§ˆíŠ¸í°|ì»´í“¨í„°|ë…¸íŠ¸ë¶/i.test(d),ae=/ê³ ëŒ€|ancient|ê³ êµ¬ë ¤|ì‚¼êµ­|ì¡°ì„ |ê³ ë ¤|í•œë³µ|ì „í†µ/i.test(d);let j="",N="",E=!1;de?(j="modern contemporary Korean setting, current day Seoul, modern buildings, urban environment",N="modern Korean fashion, casual modern clothing",E=!1,console.log("[PanelEditor] Feedback requests modern setting - overriding worldbuilding")):ae?(j="ancient Korean historical setting, traditional architecture",N="traditional Korean hanbok",E=!0,console.log("[PanelEditor] Feedback requests ancient setting")):w.includes("ì² ê¸°")||w.includes("ê³ êµ¬ë ¤")||w.includes("ancient")||w.includes("ì‚¼êµ­")||v.includes("ì² ê¸°")||v.includes("ê³ êµ¬ë ¤")||v.includes("ì‚¼êµ­")?(j="ancient Korean Three Kingdoms period, traditional hanok architecture, wooden structures",N="ancient Korean hanbok, layered silk robes, traditional hair accessories",E=!0):w.includes("ì¡°ì„ ")||v.includes("ì¡°ì„ ")?(j="Joseon Dynasty Korea, traditional hanok, paper windows",N="Joseon era hanbok",E=!0):w.includes("ê³ ë ¤")||v.includes("ê³ ë ¤")?(j="Goryeo Dynasty Korea, Buddhist temples, traditional architecture",N="Goryeo era traditional clothing",E=!0):(w.includes("í˜„ëŒ€")||w.includes("modern")||v.includes("í˜„ëŒ€"))&&(j="modern contemporary Korean setting, current day",N="modern Korean fashion",E=!1),j||/modern|office|computer|contemporary|apartment|city|urban|smartphone|laptop|desk|cubicle/i.test(f)&&(j="modern contemporary Korean setting, current day",N="modern Korean fashion");const Se=E?`

CRITICAL ERA CONSISTENCY: This is a HISTORICAL setting. ABSOLUTELY NO modern elements allowed - no modern buildings, no electricity, no modern clothing, no glasses, no modern hairstyles. Everything must be period-accurate.`:"",me=s.characters.map(b=>{var S,X,Q,ee,se,x,he,xe,ue,pe,fe;const c=a.characters.find(te=>te.name===b.characterName||te.koreanName===b.characterName);if(c){const te=c.gender==="female"?"beautiful young Korean woman":c.gender==="male"?"handsome young Korean man":"Korean person",Ee=c.age||25,Le=((S=c.appearance)==null?void 0:S.hairColor)||"black",Te=((X=c.appearance)==null?void 0:X.hairStyle)||"long",Ae=((Q=c.appearance)==null?void 0:Q.eyeColor)||"dark brown",ze=((ee=c.appearance)==null?void 0:ee.bodyType)||"slim",be=((se=c.appearance)==null?void 0:se.height)||"",Ke=((x=c.appearance)==null?void 0:x.skinTone)||"fair",Be=((he=c.appearance)==null?void 0:he.faceShape)||"oval",Me=((xe=c.appearance)==null?void 0:xe.eyeShape)||"almond",ye=((pe=(ue=c.appearance)==null?void 0:ue.distinguishingFeatures)==null?void 0:pe.join(", "))||"",ve=((fe=c.appearance)==null?void 0:fe.defaultOutfit)||"",oe=ve||N||(E?"traditional Korean hanbok":"modern Korean clothing"),Re=c.role==="protagonist"?`elegant ${oe}, high quality fabric`:c.role==="antagonist"?`imposing ${oe}, dark tones`:oe;return`[CHARACTER: ${c.name}] ${te}, exactly ${Ee} years old, MUST have ${Le} ${Te} hair, ${Ae} ${Me} eyes, ${Ke} skin, ${Be} face, ${ze} body${be?`, ${be}`:""}, wearing ${Re}${ye?`. Distinctive features: ${ye}`:""}. CRITICAL: Keep this character's face and appearance EXACTLY consistent with reference image provided.`}return E?"Korean person in traditional hanbok, period-accurate clothing":"Korean person in modern clothing"}).join(`
`),ge=((O=(P=s.dialogues)==null?void 0:P[0])==null?void 0:O.text)||"",De=d?`

**CRITICAL USER FEEDBACK (MUST APPLY)**: ${d}
This feedback overrides any conflicting settings above.`:"",ne=`Webtoon illustration, manhwa style, clean lineart, cel-shading.

${f}

${me||""}
${j?`Setting: ${j}`:""}
${N?`Costume: ${N}`:""}
${Se}

Camera: ${s.cameraAngle||"medium shot"}.${De}`;console.log("[PanelEditor] Generated prompt:",ne);const K=[];for(const b of s.characters){const c=a.characters.find(S=>S.name===b.characterName||S.koreanName===b.characterName);if(c){const S=((Y=c.referenceImages)==null?void 0:Y.filter(x=>x.type==="anchor"))||[];for(const x of S.slice(0,2))K.push(x.imageData);const X=((B=c.expressions)==null?void 0:B.filter(x=>x.imageData))||[];for(const x of X.slice(0,1))x.imageData&&K.push(x.imageData);const Q=((H=c.poses)==null?void 0:H.filter(x=>x.imageData))||[];for(const x of Q.slice(0,1))x.imageData&&K.push(x.imageData);const ee=((G=c.outfits)==null?void 0:G.filter(x=>x.imageData))||[];for(const x of ee.slice(0,1))x.imageData&&K.push(x.imageData);const se=((q=c.referenceImages)==null?void 0:q.filter(x=>x.type!=="anchor"))||[];for(const x of se.slice(0,1))K.push(x.imageData)}}if((V=a.worldBuilding)!=null&&V.mainLocations){const b=((I=(n=s.background)==null?void 0:n.description)==null?void 0:I.toLowerCase())||"";for(const c of a.worldBuilding.mainLocations)if(b.includes(c.name.toLowerCase())){for(const S of c.variations||[])if(S.generatedImage){K.push(S.generatedImage);break}}}const re=a.episodes.find(b=>b.panels.some(c=>c.id===s.id));if(re){const b=re.panels.findIndex(c=>c.id===s.id);if(b>0){const c=re.panels[b-1];(M=c.generatedImage)!=null&&M.imageData&&K.push(c.generatedImage.imageData)}}const Pe=K.slice(0,14),Z=await Ce.generateImage(ne,{resolution:r,styleAnchor:"",referenceImages:Pe,useCache:!1});let ie=Z.imageData;if(ge)try{const b=(_=(U=s.dialogues)==null?void 0:U[0])==null?void 0:_.bubbleStyle,c=b==="thought"||b==="shout"?b:"normal";ie=await Ue(Z.imageData,{text:ge,position:((z=(J=s.dialogues)==null?void 0:J[0])==null?void 0:z.position)||{x:50,y:15},fontSize:28,bubbleStyle:c})}catch(b){console.error("Speech bubble rendering failed:",b)}r==="preview"?h(ie):(t({generatedImage:{id:Date.now().toString(),resolution:r,imageData:ie,promptUsed:ne,generatedAt:new Date,fromCache:Z.fromCache,cost:Z.cost},status:"approved"}),h(null)),u({message:r==="preview"?"í”„ë¦¬ë·°ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤":"ê³ í•´ìƒë„ ì´ë¯¸ì§€ê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤",type:"success"})}catch(f){console.error("Image generation failed:",f),u({message:"ì´ë¯¸ì§€ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤",type:"error"})}finally{g(!1)}}},W=()=>{i&&(t({generatedImage:{id:Date.now().toString(),resolution:"preview",imageData:i,promptUsed:s.visualPrompt,generatedAt:new Date,fromCache:!1,cost:.001},status:"approved"}),h(null))},T=((D=(F=s.dialogues)==null?void 0:F[0])==null?void 0:D.text)||"";return e.jsxs("div",{className:"bg-gray-800/50 rounded-xl border border-gray-700 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center justify-between p-3 border-b border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-xl font-bold text-purple-400",children:["#",s.panelNumber]}),((l=(C=s.characters)==null?void 0:C[0])==null?void 0:l.characterName)&&e.jsx("span",{className:"text-sm text-gray-300",children:s.characters[0].characterName})]}),e.jsx(je,{options:Ye,value:s.size,onChange:r=>t({size:r}),placeholder:"í¬ê¸°"})]}),e.jsxs("div",{className:"p-4",children:[T&&e.jsxs("div",{className:"mb-4 p-3 bg-white/10 rounded-lg border-l-4 border-purple-500",children:[e.jsx("p",{className:"text-sm text-gray-400 mb-1",children:"ğŸ’¬ ëŒ€ì‚¬"}),e.jsxs("p",{className:"text-white text-lg font-medium",children:['"',T,'"']})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsx("div",{className:"col-span-2",children:e.jsx("div",{className:"aspect-[4/3] bg-gray-900 rounded-lg overflow-hidden relative",children:e.jsx(We,{mode:"wait",children:o?e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(ke,{size:"lg",className:"mx-auto mb-2"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"ì´ë¯¸ì§€ ìƒì„± ì¤‘..."})]})},"loading"):i?e.jsx(L.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},src:i,alt:"Preview",className:"w-full h-full object-contain bg-gray-950"},"preview"):s.generatedImage?e.jsx(L.img,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},src:s.generatedImage.imageData,alt:`Panel ${s.panelNumber}`,className:"w-full h-full object-contain bg-gray-950"},"generated"):e.jsx(L.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"absolute inset-0 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-5xl mb-3 block",children:"ğŸ¨"}),e.jsx("p",{className:"text-gray-400",children:"ì´ë¯¸ì§€ë¥¼ ìƒì„±í•´ì£¼ì„¸ìš”"})]})},"empty")})})}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(je,{label:"ì•µê¸€",options:qe,value:s.cameraAngle,onChange:r=>t({cameraAngle:r})}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"ì¥ë©´ ì„¤ëª…"}),e.jsx("textarea",{value:s.composition,onChange:r=>t({composition:r.target.value}),rows:3,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm resize-none",placeholder:"ì¥ë©´ ì„¤ëª…..."})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs text-gray-400 mb-1",children:"ëŒ€ì‚¬ ìˆ˜ì •"}),e.jsx("textarea",{value:T,onChange:r=>{var P;const A=(P=s.dialogues)!=null&&P.length?[{...s.dialogues[0],text:r.target.value}]:[{id:`dlg-${Date.now()}`,text:r.target.value,type:"speech",bubbleStyle:"normal",position:{x:50,y:20},size:{width:200,height:80},fontSize:"medium"}];t({dialogues:A})},rows:2,className:"w-full bg-gray-700 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm resize-none",placeholder:"ìºë¦­í„° ëŒ€ì‚¬..."})]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-700/50 rounded-lg",children:[e.jsx("label",{className:"block text-sm text-gray-300 mb-2",children:"âœï¸ ê·¸ë¦¼ ë³´ì™„ì  (ì¬ìƒì„± ì‹œ ë°˜ì˜)"}),e.jsx("textarea",{value:d,onChange:r=>p(r.target.value),rows:2,className:"w-full bg-gray-800 border border-gray-600 rounded-lg px-3 py-2 text-white text-sm resize-none mb-3",placeholder:"ì˜ˆ: í‘œì •ì„ ë” ë°ê²Œ, ë°°ê²½ì„ ì–´ë‘¡ê²Œ, ì•µê¸€ì„ í´ë¡œì¦ˆì—…ìœ¼ë¡œ... (ëŒ€ì‚¬ëŠ” ìœ„ 'ëŒ€ì‚¬ ìˆ˜ì •'ì— ì…ë ¥)"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(k,{variant:"primary",onClick:()=>y("preview"),disabled:o,loading:o,children:s.generatedImage||i?"ğŸ”„ ì¬ìƒì„±":"ğŸ¨ ì´ë¯¸ì§€ ìƒì„±"}),i&&e.jsxs(e.Fragment,{children:[e.jsx(k,{variant:"primary",onClick:W,size:"sm",children:"âœ“ ìŠ¹ì¸"}),e.jsx(k,{variant:"secondary",onClick:()=>h(null),size:"sm",children:"ì·¨ì†Œ"})]})]})]})]})]})},_e=({panels:s,selectedPanelId:m,onSelectPanel:t,onDeletePanel:o,onDeleteAllPanels:g})=>e.jsxs("div",{className:"bg-gray-800/50 rounded-xl border border-gray-700 p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-medium text-white",children:"íƒ€ì„ë¼ì¸"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("span",{className:"text-sm text-gray-400",children:[s.length," íŒ¨ë„"]}),s.length>0&&g&&e.jsx("button",{onClick:()=>{confirm("ëª¨ë“  íŒ¨ë„ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?")&&g()},className:"text-xs text-red-400 hover:text-red-300 px-2 py-1 rounded bg-red-500/10 hover:bg-red-500/20",children:"ì „ì²´ ì‚­ì œ"})]})]}),e.jsxs("div",{className:"flex gap-2 overflow-x-auto pb-2",children:[s.map(i=>e.jsxs(L.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:()=>t(i.id),className:`
              group relative flex-shrink-0 w-20 h-28 rounded-lg overflow-hidden border-2 transition-all
              ${m===i.id?"border-purple-500 ring-2 ring-purple-500/30":"border-gray-700 hover:border-gray-600"}
            `,children:[i.generatedImage?e.jsx("img",{src:i.generatedImage.imageData,alt:`Panel ${i.panelNumber}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full bg-gray-900 flex items-center justify-center",children:e.jsx("span",{className:"text-gray-600 text-2xl",children:"ğŸ¨"})}),e.jsx("div",{className:"absolute top-1 left-1 w-5 h-5 rounded bg-black/60 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:i.panelNumber})}),o&&e.jsx("div",{onClick:h=>{h.stopPropagation(),confirm(`íŒ¨ë„ ${i.panelNumber}ì„ ì‚­ì œí•˜ì‹œê² ìŠµë‹ˆê¹Œ?`)&&o(i.id)},className:"absolute top-1 right-1 w-5 h-5 rounded bg-red-500/80 hover:bg-red-500 flex items-center justify-center cursor-pointer opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("span",{className:"text-white text-xs",children:"âœ•"})}),e.jsx("div",{className:`absolute bottom-1 right-1 w-2 h-2 rounded-full ${i.status==="approved"?"bg-green-500":i.status==="preview"?"bg-yellow-500":"bg-gray-500"}`}),m===i.id&&e.jsx(L.div,{layoutId:"selectedPanel",className:"absolute inset-0 border-2 border-purple-500 rounded-lg"})]},i.id)),e.jsx("button",{className:"flex-shrink-0 w-20 h-28 rounded-lg border-2 border-dashed border-gray-700 hover:border-gray-600 flex items-center justify-center transition-colors",children:e.jsx("svg",{className:"w-6 h-6 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),Ze=({projectTitle:s,episodeTitle:m,onSave:t,onPreview:o,onExport:g})=>{const{viewMode:i,setViewMode:h,zoom:d,setZoom:p}=ce(),a=[{id:"edit",label:"í¸ì§‘"},{id:"preview",label:"ë¯¸ë¦¬ë³´ê¸°"},{id:"split",label:"ë¶„í• "}];return e.jsx("div",{className:"bg-gray-800/80 backdrop-blur-sm border-b border-gray-700 px-4 py-2",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("h1",{className:"text-white font-bold",children:s}),e.jsx("span",{className:"text-gray-400",children:"/"}),e.jsx("span",{className:"text-gray-300",children:m})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx($e,{tabs:a,activeTab:i,onChange:u=>h(u),variant:"pills",size:"sm"}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-gray-700 rounded-lg",children:[e.jsx("button",{onClick:()=>p(d-10),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M20 12H4"})})}),e.jsxs("span",{className:"text-white text-sm w-12 text-center",children:[d,"%"]}),e.jsx("button",{onClick:()=>p(d+10),className:"text-gray-400 hover:text-white transition-colors",children:e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(k,{variant:"ghost",size:"sm",onClick:t,children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V9a2 2 0 00-2-2h-3m-1 4l-3 3m0 0l-3-3m3 3V4"})}),"ì €ì¥"]}),e.jsxs(k,{variant:"ghost",size:"sm",onClick:o,children:[e.jsxs("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"ë¯¸ë¦¬ë³´ê¸°"]}),e.jsxs(k,{variant:"primary",size:"sm",onClick:g,children:[e.jsx("svg",{className:"w-4 h-4 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12"})}),"ë‚´ë³´ë‚´ê¸°"]})]})]})})};async function Xe(s){const t=[...s].sort((a,u)=>a.panelNumber-u.panelNumber).filter(a=>{var u;return(u=a.generatedImage)==null?void 0:u.imageData});if(t.length===0)throw new Error("ë‚´ë³´ë‚¼ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.");const o=await Promise.all(t.map(a=>Qe(a.generatedImage.imageData))),g=Math.max(...o.map(a=>a.width)),i=o.reduce((a,u)=>a+u.height,0),h=document.createElement("canvas"),d=h.getContext("2d");if(!d)throw new Error("Canvas context not available");h.width=g,h.height=i,d.fillStyle="#ffffff",d.fillRect(0,0,h.width,h.height);let p=0;for(const a of o){const u=(g-a.width)/2;d.drawImage(a,u,p),p+=a.height}return h.toDataURL("image/png")}function Qe(s){return new Promise((m,t)=>{const o=new Image;o.crossOrigin="anonymous",o.onload=()=>m(o),o.onerror=()=>t(new Error("Failed to load image")),o.src=s})}function Ie(s,m){const t=document.createElement("a");t.href=s,t.download=m,document.body.appendChild(t),t.click(),document.body.removeChild(t)}async function es(s){const m=await Xe(s.panels),t=`${s.episodeNumber}í™”_${s.title||"episode"}.png`;Ie(m,t)}function ss(s,m){var o;if(!((o=s.generatedImage)!=null&&o.imageData))throw new Error("ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤.");const t=`${m}í™”_íŒ¨ë„${s.panelNumber}.png`;Ie(s.generatedImage.imageData,t)}async function we(s){const t=[...s.panels].sort((o,g)=>o.panelNumber-g.panelNumber).filter(o=>{var g;return(g=o.generatedImage)==null?void 0:g.imageData});for(const o of t)ss(o,s.episodeNumber),await new Promise(g=>setTimeout(g,300))}async function ts(s,m){const{format:t}=m;switch(t){case"long-image":await es(s);break;case"individual":await we(s);break;case"zip":await we(s);break;default:throw new Error("ì§€ì›í•˜ì§€ ì•ŠëŠ” ë‚´ë³´ë‚´ê¸° í˜•ì‹ì…ë‹ˆë‹¤.")}}const ms=()=>{const{projectId:s}=Fe(),m=Oe(),{currentProject:t,setCurrentProject:o,updatePanel:g,addPanel:i,deletePanel:h}=Ne(),{selectedEpisodeId:d,setSelectedEpisode:p,selectedPanelId:a,setSelectedPanel:u,addToast:y}=ce(),{user:W}=He(),[T,F]=R.useState(!0),[D,C]=R.useState(!1);R.useEffect(()=>{(async()=>{s&&(await o(s),F(!1))})()},[s,o]),R.useEffect(()=>{t!=null&&t.episodes.length&&!d&&p(t.episodes[0].id)},[t,d,p]);const l=t==null?void 0:t.episodes.find(n=>n.id===d),r=l==null?void 0:l.panels.find(n=>n.id===a),A=async(n,I)=>{d&&(await g(d,n,I),y({message:"íŒ¨ë„ì´ ì—…ë°ì´íŠ¸ë˜ì—ˆìŠµë‹ˆë‹¤",type:"success"}))},P=async()=>{if(!(!l||!t)){C(!0),y({message:"íŒ¨ë„ì„ ìƒì„±í•˜ê³  ìˆìŠµë‹ˆë‹¤...",type:"info"});try{const n=t.worldBuilding,I=(n==null?void 0:n.era)||"ê³ ëŒ€ í•œêµ­",M=(n==null?void 0:n.setting)||"ì—­ì‚¬ë¬¼",U=70,_=`ì›¹íˆ° ${l.episodeNumber}í™” ì½˜í‹°. JSONìœ¼ë¡œ íŒ¨ë„ ${U}ê°œ ìƒì„±.

ì¤„ê±°ë¦¬: ${l.summary}
ì„¸ê³„ê´€: ${I}, ${M}

ì¶œë ¥í˜•ì‹:
{"panels":[
{"n":1,"img":"ì˜ì–´ë¡œ ê·¸ë¦¼ì„¤ëª…","dialog":"í•œêµ­ì–´ ëŒ€ì‚¬"},
{"n":2,"img":"ì˜ì–´ë¡œ ê·¸ë¦¼ì„¤ëª…","dialog":""}
]}

ê·œì¹™:
1. ë°˜ë“œì‹œ ${U}ê°œ íŒ¨ë„ ìƒì„± (ì›¹íˆ° 1í™” ë¶„ëŸ‰)
2. img = ì˜ì–´ë¡œë§Œ! ê·¸ë¦¼ ì„¤ëª… (êµ¬ë„, í‘œì •, ë°°ê²½ ìƒì„¸íˆ)
3. dialog = í•œêµ­ì–´ ëŒ€ì‚¬ë§Œ. ìºë¦­í„°ê°€ ì‹¤ì œë¡œ ë§í•˜ëŠ” ê²ƒ!
4. dialogì— ì¥ë©´ì„¤ëª… ì ˆëŒ€ ë„£ì§€ë§ˆ
5. ëŒ€ì‚¬ ì—†ëŠ” ì¥ë©´ì€ dialogë¥¼ ë¹ˆì¹¸ ""ìœ¼ë¡œ
6. í™˜ìƒ/ë¹™ì˜ ìŠ¤í† ë¦¬ë©´ ì²˜ìŒì€ í˜„ëŒ€, ì¤‘ê°„ì— ê³ ëŒ€ë¡œ ì „í™˜
7. ë‹¤ì–‘í•œ ì•µê¸€ ì‚¬ìš©: í´ë¡œì¦ˆì—…, ë¯¸ë””ì—„ìƒ·, ì™€ì´ë“œìƒ·, ë²„ë“œì•„ì´ ë“±
8. ê°ì • í‘œí˜„ ì¥ë©´ì€ í´ë¡œì¦ˆì—…ìœ¼ë¡œ
9. ì•¡ì…˜/ë°°ê²½ ì„¤ëª…ì€ ì™€ì´ë“œìƒ·ìœ¼ë¡œ
10. ëŒ€í™” ì¥ë©´ì€ ë¯¸ë””ì—„ìƒ·ìœ¼ë¡œ
11. 1~${U}ë²ˆê¹Œì§€ ìˆœì„œëŒ€ë¡œ ìƒì„±`,J=await Ce.generateText(_,{temperature:.8,maxTokens:32e3,useCache:!1});console.log("[AI Response Raw]:",J);const z=Ge(J);if(console.log("[Parsed Result]:",JSON.stringify(z,null,2)),!z.panels||z.panels.length===0)throw new Error("íŒ¨ë„ì´ ìƒì„±ë˜ì§€ ì•Šì•˜ìŠµë‹ˆë‹¤.");for(const f of z.panels){console.log("[Panel Data]:",JSON.stringify(f,null,2));const $=f.n||f.panelNumber||1,w=f.img||f.sceneDescription||"";let v=f.dialog??f.dialogue??f.talk??f.speech??f.text??"";console.log(`[Panel ${$}] Dialog field:`,f.dialog,"| Dialogue field:",f.dialogue,"| Final:",v);const ae=!/[ê°€-í£]/.test(v)&&/^[a-zA-Z\s,.\-'":;!?]+$/.test(v);v&&ae&&(console.log(`[Panel ${$}] Filtered out English description:`,v),v="");const j=f.who||f.character||"",N={episodeId:l.id,panelNumber:$,size:"medium",cameraAngle:"medium-shot",composition:w,characters:j?[{characterId:"",characterName:j,position:{x:50,y:50},scale:1,expression:"neutral",pose:"standing",action:"",facing:"front",layer:1}]:[],background:{locationName:"",description:w,timeOfDay:"afternoon",weather:"",mood:"",focusPoint:"",depth:"medium"},dialogues:v?[{id:`dlg-${Date.now()}-${$}`,text:v,type:"speech",bubbleStyle:"normal",position:{x:50,y:20},size:{width:200,height:80},fontSize:"medium"}]:[],sfx:[],mood:"",lighting:"natural",visualPrompt:w,status:"pending"};await i(l.id,N)}await o(s),y({message:`${z.panels.length}ê°œ íŒ¨ë„ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤!`,type:"success"})}catch(n){console.error("Panel generation failed:",n),y({message:"íŒ¨ë„ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤. ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.",type:"error"})}finally{C(!1)}}},O=async n=>{d&&(await h(d,n),u(null),y({message:"íŒ¨ë„ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤",type:"success"}))},Y=async()=>{if(l){for(const n of l.panels)await h(l.id,n.id);u(null),y({message:"ëª¨ë“  íŒ¨ë„ì´ ì‚­ì œë˜ì—ˆìŠµë‹ˆë‹¤",type:"success"})}};if(T)return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsx(ke,{size:"lg"})});if(!t)return e.jsx("div",{className:"min-h-screen bg-gray-900 flex items-center justify-center",children:e.jsxs(le,{className:"text-center p-8",children:[e.jsx("h2",{className:"text-xl font-bold text-white mb-4",children:"í”„ë¡œì íŠ¸ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤"}),e.jsx(k,{variant:"primary",onClick:()=>m("/dashboard"),children:"ëŒ€ì‹œë³´ë“œë¡œ ì´ë™"})]})});const B=(t==null?void 0:t.episodes.findIndex(n=>n.id===d))??-1,H=B>0,G=B<((t==null?void 0:t.episodes.length)??0)-1,q=()=>{if(H&&t){const n=t.episodes[B-1];p(n.id),n.panels.length>0?u(n.panels[0].id):u(null)}},V=()=>{if(G&&t){const n=t.episodes[B+1];p(n.id),n.panels.length>0?u(n.panels[0].id):u(null)}};return e.jsxs("div",{className:"min-h-screen bg-gray-900 flex flex-col",children:[e.jsxs("div",{className:"bg-gray-800 border-b border-gray-700 px-4 py-2 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(k,{variant:"ghost",size:"sm",onClick:()=>m(`/create/${s}`),className:"text-gray-400 hover:text-white",children:[e.jsx("svg",{className:"w-5 h-5 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})}),"í”„ë¡œì íŠ¸ ì„¤ì •"]}),e.jsx("div",{className:"text-gray-400",children:"|"}),e.jsx("h1",{className:"text-white font-bold",children:t.title})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k,{variant:"ghost",size:"sm",onClick:q,disabled:!H,className:H?"":"opacity-50 cursor-not-allowed",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsxs("div",{className:"bg-gray-700 rounded-lg px-4 py-2 min-w-[200px] text-center",children:[e.jsx("span",{className:"text-purple-400 font-bold",children:l?`${l.episodeNumber}í™”`:"ì—í”¼ì†Œë“œ ì„ íƒ"}),l&&e.jsxs("span",{className:"text-gray-400 ml-2 text-sm",children:["/ ",t.episodes.length,"í™”"]})]}),e.jsx(k,{variant:"ghost",size:"sm",onClick:V,disabled:!G,className:G?"":"opacity-50 cursor-not-allowed",children:e.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"flex items-center gap-2",children:W?e.jsxs("div",{className:"flex items-center gap-2 text-green-400 text-sm",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),e.jsx("span",{children:"ìë™ ë™ê¸°í™” ì¤‘"})]}):e.jsxs("button",{onClick:()=>m("/settings"),className:"flex items-center gap-2 text-gray-400 hover:text-white text-sm transition-colors",children:[e.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 15a4 4 0 004 4h9a5 5 0 10-.1-9.999 5.002 5.002 0 10-9.78 2.096A4.001 4.001 0 003 15z"})}),e.jsx("span",{children:"ë¡œê·¸ì¸í•˜ì—¬ ë™ê¸°í™”"})]})})]}),e.jsx(Ze,{projectTitle:t.title,episodeTitle:(l==null?void 0:l.title)||"ì—í”¼ì†Œë“œ ì„ íƒ",onSave:()=>y({message:"ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤ (ìë™ ì €ì¥ë¨)",type:"success"}),onPreview:()=>m(`/preview/${s}`),onExport:async()=>{if(!l){y({message:"ì—í”¼ì†Œë“œë¥¼ ì„ íƒí•´ì£¼ì„¸ìš”",type:"error"});return}if(l.panels.filter(I=>{var M;return(M=I.generatedImage)==null?void 0:M.imageData}).length===0){y({message:"ë‚´ë³´ë‚¼ ì´ë¯¸ì§€ê°€ ì—†ìŠµë‹ˆë‹¤",type:"error"});return}try{y({message:"ì´ë¯¸ì§€ë¥¼ ë³‘í•©í•˜ê³  ìˆìŠµë‹ˆë‹¤...",type:"info"}),await ts(l,{format:"long-image"}),y({message:"ë‚´ë³´ë‚´ê¸° ì™„ë£Œ!",type:"success"})}catch(I){console.error("Export failed:",I),y({message:"ë‚´ë³´ë‚´ê¸°ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤",type:"error"})}}}),e.jsxs("div",{className:"flex-1 flex",children:[e.jsxs("div",{className:"w-64 bg-gray-800/50 border-r border-gray-700 p-4 overflow-y-auto",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"ì—í”¼ì†Œë“œ"}),e.jsx("div",{className:"space-y-2",children:t.episodes.length>0?t.episodes.map(n=>e.jsxs(L.button,{whileHover:{x:4},onClick:()=>{p(n.id),n.panels.length>0&&u(n.panels[0].id)},className:`w-full text-left p-3 rounded-lg transition-colors ${d===n.id?"bg-purple-600/30 border border-purple-500":"bg-gray-700/50 hover:bg-gray-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("span",{className:"text-white font-medium",children:[n.episodeNumber,"í™”"]}),e.jsxs("span",{className:"text-gray-400 text-sm",children:[n.panels.length," íŒ¨ë„"]})]}),e.jsx("p",{className:"text-gray-400 text-sm truncate mt-1",children:n.title})]},n.id)):e.jsxs("div",{className:"text-center text-gray-400 py-8",children:[e.jsx("p",{children:"ì—í”¼ì†Œë“œê°€ ì—†ìŠµë‹ˆë‹¤"}),e.jsx(k,{variant:"ghost",size:"sm",className:"mt-2",onClick:()=>{},children:"ì—í”¼ì†Œë“œ ì¶”ê°€"})]})}),e.jsxs("div",{className:"mt-6",children:[e.jsx("h3",{className:"text-lg font-medium text-white mb-4",children:"ìºë¦­í„°"}),e.jsx("div",{className:"space-y-2",children:t.characters.map(n=>e.jsxs("div",{className:"flex items-center gap-3 p-2 rounded-lg bg-gray-700/30",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-br from-purple-500 to-pink-500 flex items-center justify-center text-sm",children:n.gender==="female"?"ğŸ‘©":"ğŸ‘¨"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-white text-sm font-medium",children:n.name}),e.jsx("p",{className:"text-gray-400 text-xs",children:n.role})]})]},n.id))})]})]}),e.jsx("div",{className:"flex-1 flex flex-col p-4 overflow-hidden",children:l?e.jsxs(e.Fragment,{children:[e.jsx(_e,{panels:l.panels,selectedPanelId:a,onSelectPanel:u,onDeletePanel:O,onDeleteAllPanels:Y}),e.jsx("div",{className:"flex-1 mt-4 overflow-y-auto",children:r?e.jsx(Ve,{panel:r,episodeId:l.id,onUpdate:n=>A(r.id,n)}):e.jsx(le,{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-4xl mb-4 block",children:"ğŸ¬"}),e.jsx("p",{className:"text-gray-400 mb-2",children:l.panels.length===0?"ì´ ì—í”¼ì†Œë“œì— íŒ¨ë„ì´ ì—†ìŠµë‹ˆë‹¤":"íŒ¨ë„ì„ ì„ íƒí•˜ê±°ë‚˜ ìƒˆë¡œ ì¶”ê°€í•˜ì„¸ìš”"}),l.panels.length===0&&e.jsx("p",{className:"text-gray-500 text-sm mb-4",children:"AIê°€ ì—í”¼ì†Œë“œ ë‚´ìš©ì„ ê¸°ë°˜ìœ¼ë¡œ íŒ¨ë„ì„ ìë™ ìƒì„±í•©ë‹ˆë‹¤"}),e.jsx(k,{variant:"primary",className:"mt-4",onClick:P,disabled:D,loading:D,children:D?"AI íŒ¨ë„ ìƒì„± ì¤‘...":"AI íŒ¨ë„ ìë™ ìƒì„±"})]})})})]}):e.jsx(le,{className:"flex items-center justify-center h-full",children:e.jsxs("div",{className:"text-center",children:[e.jsx("span",{className:"text-4xl mb-4 block",children:"ğŸ“š"}),e.jsx("p",{className:"text-gray-400",children:"ì—í”¼ì†Œë“œë¥¼ ì„ íƒí•˜ì„¸ìš”"})]})})}),e.jsxs("div",{className:"w-72 bg-gray-800/50 border-l border-gray-700 p-4 overflow-y-auto",children:[e.jsx($e,{tabs:[{id:"properties",label:"ì†ì„±"},{id:"dialogue",label:"ëŒ€ì‚¬"}],activeTab:"properties",onChange:()=>{},variant:"underline",fullWidth:!0}),e.jsx("div",{className:"mt-4",children:r?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"íŒ¨ë„ í¬ê¸°"}),e.jsx("p",{className:"text-white",children:r.size})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ì¹´ë©”ë¼ ì•µê¸€"}),e.jsx("p",{className:"text-white",children:r.cameraAngle})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ë¶„ìœ„ê¸°"}),e.jsx("p",{className:"text-white",children:r.mood})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-1",children:"ì¡°ëª…"}),e.jsx("p",{className:"text-white",children:r.lighting})]}),r.dialogues.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm text-gray-400 mb-2",children:"ëŒ€ì‚¬"}),e.jsx("div",{className:"space-y-2",children:r.dialogues.map(n=>e.jsxs("div",{className:"bg-gray-700/50 rounded-lg p-2",children:[e.jsx("p",{className:"text-xs text-purple-400",children:n.characterName||"ë‚˜ë ˆì´ì…˜"}),e.jsx("p",{className:"text-white text-sm",children:n.text})]},n.id))})]})]}):e.jsx("p",{className:"text-gray-400 text-center",children:"íŒ¨ë„ì„ ì„ íƒí•˜ì„¸ìš”"})})]})]})]})};export{ms as default};
